diff --git a/src/sage/misc/lazy_import_cache.py b/src/sage/misc/lazy_import_cache.py
index 0f9d7de..928203f 100644
--- a/src/sage/misc/lazy_import_cache.py
+++ b/src/sage/misc/lazy_import_cache.py
@@ -5,6 +5,7 @@ This is a pure Python file with no dependencies so it can be used in setup.py.
 """
 
 import os
+import hashlib
 
 from ..env import SAGE_LIB, DOT_SAGE
 
@@ -31,6 +32,6 @@ def get_cache_file():
         True
         sage: sage.misc.lazy_import_cache.DOT_SAGE = OLD
     """
-    mangled = os.path.realpath(SAGE_LIB).replace(os.sep, '_')
+    mangled = hashlib.sha256(os.path.realpath(SAGE_LIB).encode('utf-8')).hexdigest() 
     return os.path.join(DOT_SAGE, 'cache',
                         "%s-lazy_import_cache.pickle" % mangled)
